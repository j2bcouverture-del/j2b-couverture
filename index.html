<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>J2B Couverture | Couvreur à Toul</title>

<style>
:root{
--bg:#ffffff;
--card:#f8fafc;
--text:#0f172a;
--muted:#475569;
--border:#e5e7eb;
--shadow:0 12px 30px rgba(2,6,23,.10);
--radius:16px;
--blue:#2563eb;
--red:#dc2626;
--max:1120px;
}

*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
.container{width:min(var(--max),92%);margin:auto}
.section{padding:60px 0}
.section.alt{background:#f1f5f9}
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow)}
.btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 18px;border-radius:var(--radius);font-weight:900;border:0;cursor:pointer}
.btn.blue{background:var(--blue);color:#fff}
.btn.red{background:var(--red);color:#fff}
.btn.ghost{background:#fff;border:1px solid var(--border)}

.gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-top:20px}
.gallery img{width:100%;border-radius:12px;border:1px solid var(--border)}

.simCanvasWrap{margin-top:20px;border-radius:16px;overflow:hidden;border:1px solid var(--border)}
#roofCanvas{width:100%;display:block}
.swatchBtn{padding:8px 14px;border-radius:999px;border:1px solid var(--border);cursor:pointer;font-weight:700}
.swatchBtn.active{background:var(--blue);color:#fff}

.reviews{margin-top:30px}
.rev-card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:18px;box-shadow:var(--shadow);margin-bottom:12px}

</style>
</head>

<body>

<section class="section">
<div class="container">
<h1>J2B Couverture</h1>
<p>Couvreur à Toul – 54, 55, 57, 88</p>
</div>
</section>

<!-- AVIS -->
<section class="section alt">
<div class="container">
<h2>Avis clients</h2>

<div class="reviews">
<div class="rev-card">★★★★★ Travail très soigné, rapide et efficace.</div>
<div class="rev-card">★★★★★ Devis clair, toiture impeccable.</div>
<div class="rev-card">★★★★★ Très professionnel, je recommande.</div>
</div>

<br>
<a class="btn ghost" target="_blank"
href="https://www.google.com/search?q=avis+j2b+couverture">
Voir tous les avis Google
</a>

</div>
</section>

<!-- SIMULATEUR -->
<section class="section">
<div class="container">
<h2>Simulateur couleur toiture</h2>

<div>
<button class="btn ghost" id="btnTerre">Terre cuite</button>
<button class="btn ghost" id="btnBeton">Tuile béton</button>
</div>

<div style="margin-top:15px">
<input type="range" id="strength" min="0" max="70" value="35">
</div>

<div id="colors" style="margin-top:15px"></div>

<div class="simCanvasWrap">
<canvas id="roofCanvas"></canvas>
</div>

</div>
</section>

<!-- PHOTOS -->
<section class="section alt">
<div class="container">
<h2>Nos réalisations</h2>

<div class="gallery">
<img src="./Temp1.jpg">
<img src="./Temp2.png">
<img src="./Temp3.png">
<img src="./Temp4.png">
<img src="./Temp6.JPG">
<img src="./Temp7.png">
<img src="./Temp8.png">
</div>

</div>
</section>

<script>
const MODELS = {
terre:'./Terrecuite.JPG',
beton:'./Tuilesbeton.jpg'
};

const PALETTES={
terre:['#c2410c','#b91c1c','#7c2d12','#92400e','#111827'],
beton:['#111827','#6b7280','#9ca3af','#7c2d12','#b91c1c']
};

let currentModel='terre';
let currentColor=PALETTES.terre[0];

const canvas=document.getElementById('roofCanvas');
const ctx=canvas.getContext('2d');
const strength=document.getElementById('strength');
const colorsDiv=document.getElementById('colors');

let baseImg=new Image();

function loadModel(model){
currentModel=model;
baseImg=new Image();
baseImg.onload=function(){
canvas.width=baseImg.width;
canvas.height=baseImg.height;
draw();
};
baseImg.src=MODELS[model]+'?v='+Date.now();
buildColors();
}

function buildColors(){
colorsDiv.innerHTML='';
PALETTES[currentModel].forEach(color=>{
const btn=document.createElement('button');
btn.className='swatchBtn';
btn.style.background=color;
btn.onclick=function(){
currentColor=color;
draw();
};
colorsDiv.appendChild(btn);
});
}

function hexToRgb(hex){
const bigint=parseInt(hex.slice(1),16);
return [(bigint>>16)&255,(bigint>>8)&255,bigint&255];
}

function draw(){
ctx.drawImage(baseImg,0,0);
const [r,g,b]=hexToRgb(currentColor);
ctx.fillStyle=`rgba(${r},${g},${b},${strength.value/100})`;
ctx.globalCompositeOperation='multiply';
ctx.fillRect(0,0,canvas.width,canvas.height);
ctx.globalCompositeOperation='source-over';
}

strength.oninput=draw;
document.getElementById('btnTerre').onclick=()=>loadModel('terre');
document.getElementById('btnBeton').onclick=()=>loadModel('beton');

loadModel('terre');
</script>

</body>
</html>
